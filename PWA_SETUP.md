# 📱 PWA 设置说明 - 添加到主屏幕

## ✅ 已完成的配置

应用已配置为 Progressive Web App (PWA)，可以像原生应用一样添加到手机主屏幕。

### 已添加的功能：

1. ✅ **manifest.json** - Web App Manifest 文件
2. ✅ **Apple 专用 meta 标签** - 支持 iOS Safari
3. ✅ **全屏模式支持** - 隐藏地址栏
4. ✅ **应用图标** - 使用 SVG 图标
5. ✅ **主题色配置** - 匹配应用主题

---

## 📱 如何添加到主屏幕

### iOS Safari (iPhone/iPad)

1. 打开 Safari 浏览器
2. 访问应用网址
3. 点击底部的 **分享按钮** (📤)
4. 向下滚动，选择 **"加入主画面"** 或 **"加入主屏幕"**
5. 点击 **"加入"**
6. 应用图标会出现在主屏幕上

### Android Chrome

1. 打开 Chrome 浏览器
2. 访问应用网址
3. 点击右上角的 **菜单** (⋮)
4. 选择 **"添加到主屏幕"** 或 **"安装应用"**
5. 点击 **"添加"** 或 **"安装"**
6. 应用图标会出现在主屏幕上

---

## 🎯 效果

添加到主屏幕后：

- ✅ **无地址栏** - 全屏显示，像原生应用
- ✅ **独立窗口** - 有自己的应用图标
- ✅ **快速启动** - 点击图标直接打开应用
- ✅ **沉浸式体验** - 完全隐藏浏览器 UI

---

## 🔧 技术细节

### manifest.json 配置

```json
{
  "name": "Ledger - 個人記帳",
  "short_name": "Ledger",
  "display": "standalone",
  "theme_color": "#ffffff",
  "background_color": "#0a0a0c"
}
```

### HTML Meta 标签

- `apple-mobile-web-app-capable` - 启用 iOS 全屏模式
- `apple-mobile-web-app-status-bar-style` - 状态栏样式
- `theme-color` - 浏览器主题色
- `viewport-fit=cover` - 支持刘海屏

---

## ⚠️ 注意事项

1. **HTTPS 要求** - PWA 功能需要 HTTPS 连接（本地开发可以使用 localhost）
2. **首次访问** - 需要先通过浏览器访问一次，然后才能添加到主屏幕
3. **图标显示** - 如果图标未正确显示，清除浏览器缓存后重试

---

## 🐛 故障排除

### 问题：添加到主屏幕后仍显示地址栏

**解决方法：**
- 确保已正确添加所有 meta 标签
- 检查 manifest.json 是否正确加载
- 清除浏览器缓存后重新添加

### 问题：图标不显示

**解决方法：**
- 检查 manifest.json 中的图标路径
- 确保图标文件存在且可访问
- 清除浏览器缓存

### 问题：无法添加到主屏幕

**解决方法：**
- 确保使用 HTTPS（或 localhost）
- 检查浏览器是否支持 PWA
- 尝试使用不同的浏览器

---

## 📝 测试清单

- [ ] 在 iOS Safari 中测试添加到主屏幕
- [ ] 在 Android Chrome 中测试添加到主屏幕
- [ ] 验证全屏模式（无地址栏）
- [ ] 验证应用图标显示正确
- [ ] 验证启动速度
- [ ] 验证所有功能正常工作

---

**完成！现在应用可以像原生应用一样添加到主屏幕了！** 🎉
